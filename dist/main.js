(()=>{const e=document.querySelector(".div2 .tasks"),n=document.querySelector(".div3"),t=document.querySelector(".detailsTitle"),d=document.querySelector(".taskInput input"),l=document.querySelector("#closeBtn"),o=document.querySelector("#deleteBtn"),c=document.querySelector("#delete-warning"),s=document.querySelector("#cancel-delete"),a=document.querySelector("#delete-task"),i=document.querySelector(".delete-warning"),r=[];let u=null,m=0;function y(e){return index=null,{name:e,index}}function p(l){e.innerHTML="";for(let d=0;d<r.length;d++){const o=document.createElement("div");o.textContent=r[d].name,o.classList.add("taskRow"),o.dataset.index=r[d].index,o.addEventListener("click",(e=>{n.classList.remove("hidden"),u=e.target.dataset.index,t.textContent=r[u].name,console.log(r[u])})),l&&d==r.length-1&&o.classList.add("animate"),e.prepend(o)}d.value=""}function v(e){r.push(e),e.index=m++,p(!1)}l.addEventListener("click",(()=>{n.classList.add("hidden")})),o.addEventListener("click",(()=>{i.innerHTML=`<span id="bold">${r[u].name}</span> will be permanently deleted.`,c.prepend(i),c.showModal()})),a.addEventListener("click",(()=>{console.log("joji"),c.close(),r.splice(u,1);for(let e=0;e<r.length;e++)r[e].index=e,console.log(r[e].name,r[e].index);p(!1)})),s.addEventListener("click",(()=>{c.close()})),document.addEventListener("keypress",(e=>{"Enter"==e.key&&(v(new y(d.value)),console.log(r),console.log("yay!"),p(!0))}));const L=new y("Clean room"),g=new y("Wash car");v(L),v(g),p(!1)})();