(()=>{"use strict";function e(e,t){return{name:e,index:0,description:"",dueDate:null==t?"None":t}}function t(e){return{name:e,tasks:[],taskIndex:0}}const n=document.querySelector(".div2 .tasks"),s=document.querySelector(".div3"),d=document.querySelector(".detailsTitle"),a=document.querySelector(".detailsDueDate"),l=document.querySelector(".taskInput input"),c=document.querySelector("#dateInput"),o=document.querySelector("#closeBtn"),r=document.querySelector("#deleteBtn"),u=document.querySelector("#delete-warning"),i=document.querySelector("#cancel-delete"),m=document.querySelector("#delete-task"),k=document.querySelector(".delete-warning"),p=document.querySelector(".additionalInputs");let y=new t("main"),v=null;function L(e,t){n.innerHTML="";for(let l=0;l<e.tasks.length;l++){const c=document.createElement("div");c.textContent=e.tasks[l].name,c.classList.add("taskRow"),c.dataset.index=e.tasks[l].index,c.addEventListener("click",(t=>{p.classList.remove("scaleUp"),s.classList.remove("hidden"),v=t.target.dataset.index,d.textContent=e.tasks[v].name,console.log("due date"+e.tasks[v].dueDate),a.textContent=e.tasks[v].dueDate})),t&&l==e.tasks.length-1&&c.classList.add("animate"),n.prepend(c)}l.value=""}function q(e,t){e.tasks.push(t),t.index=e.taskIndex++,L(y,!1)}l.addEventListener("focus",(()=>{p.classList.add("scaleUp")})),o.addEventListener("click",(()=>{s.classList.add("hidden")})),r.addEventListener("click",(()=>{k.innerHTML=`<span id="bold">${t.tasks[v].name}</span> will be permanently deleted.`,u.prepend(k),u.showModal()})),m.addEventListener("click",(()=>{u.close(),t.tasks.splice(v,1);for(let e=0;e<y.tasks.length;e++)t.tasks[e].index=e;L(y,!1)})),i.addEventListener("click",(()=>{u.close()})),document.addEventListener("keypress",(t=>{if("Enter"==t.key){const t=new new e(l.value,c.value);q(y,t),L(y,!0)}}));const S=new e("Clean room",null),x=new e("Wash car",null);q(y,S),q(y,x),L(y,!1)})();