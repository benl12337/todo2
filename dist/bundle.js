(()=>{"use strict";function e(e,t){return{name:e,index:null,description:"",dueDate:""==t||null===t?"None":t}}const t=document.querySelector(".div2 .tasks"),n=document.querySelector(".div3"),s=document.querySelector(".detailsTitle"),a=document.querySelector(".detailsDueDate"),d=document.querySelector(".taskInput input"),l=document.querySelector("#dateInput"),c=document.querySelector("#closeBtn"),o=document.querySelector("#deleteBtn"),i=document.querySelector("#delete-warning"),r=document.querySelector("#cancel-delete"),u=document.querySelector("#delete-task"),m=document.querySelector(".delete-warning"),k=document.querySelector(".additionalInputs");let v=new function(e){return{name:"main",tasks:[]}}("main"),p=0;function y(){s.textContent=v.tasks[p].name,a.textContent=v.tasks[p].dueDate}function L(e,s){t.innerHTML="";for(let a=0;a<e.tasks.length;a++){const d=document.createElement("div");d.textContent=e.tasks[a].name,d.classList.add("taskRow"),e.tasks[a].index=a,d.dataset.index=a,d.addEventListener("click",(e=>{l.value="",k.classList.remove("scaleUp"),n.classList.remove("hidden"),p=e.target.dataset.index,y()})),s&&a==e.tasks.length-1&&d.classList.add("animate"),t.prepend(d)}y(),d.value="",l.value=""}function q(e,t){e.tasks.push(t),L(v,!1)}d.addEventListener("focus",(()=>{k.classList.add("scaleUp")})),c.addEventListener("click",(()=>{n.classList.add("hidden")})),o.addEventListener("click",(()=>{m.innerHTML=`<span id="bold">${v.tasks[p].name}</span> will be permanently deleted.`,i.prepend(m),i.showModal()})),u.addEventListener("click",(()=>{i.close(),v.tasks.splice(p,1);for(let e=0;e<v.tasks.length;e++)v.tasks[e].index=e;n.classList.add("hidden"),L(v,!1)})),r.addEventListener("click",(()=>{i.close()})),document.addEventListener("keypress",(t=>{if("Enter"==t.key&&document.activeElement===d||document.activeElement===l){const t=new e(d.value,l.value);console.log(v.tasks),q(v,t),p=v.tasks.length-1,L(v,!0)}}));const S=new e("Clean room",null),E=new e("Wash car",null);q(v,S),q(v,E),L(v,!1)})();